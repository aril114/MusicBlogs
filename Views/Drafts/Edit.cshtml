@model DraftArticle

@{
    ViewData["Title"] = "Редактирование черновика";
}

<link rel="stylesheet" href="https://unpkg.com/easymde/dist/easymde.min.css">
<script src="https://unpkg.com/easymde/dist/easymde.min.js"></script>

<div class="d-flex justify-content-end gap-3">
    <button type="submit" form="deleteForm" class="btn btn-danger">Удалить</button>
    <button type="submit" form="editForm" asp-action="Publish" class="btn btn-secondary">Опубликовать</button>
    <button type="submit" form="editForm" class="btn btn-primary">Сохранить</button>
</div>

<form method="post" asp-route-id="@Model.id" id="editForm">
    <div class="mb-2">
        <label for="title" class="h-6">Заголовок</label>
        <span style="color: red" data-bs-toggle="tooltip" data-bs-title="Обязательное для заполнения поле">*</span>
        <input type="text" class="form-control" name="title" value="@Model.title" placeholder="Как будет называться ваша статья?" />
    </div>
    <div class="mb-2">
        <label for="tags" class="h-6">Теги</label>
        <input type="text" class="form-control" name="tags" value="@Model.tags" placeholder="Теги, разделенные запятой" />
    </div>
    <label for="text" class="h-6">Содержание</label>
    <span style="color: red" data-bs-toggle="tooltip" data-bs-title="Обязательное для заполнения поле">*</span>
    <textarea name="text">@Model.content</textarea>
    <script>
        const easyMDE = new EasyMDE({ spellChecker: false });
    </script>
</form>

<form asp-action="Delete" id="deleteForm" asp-route-id="@Model.id"></form>

@section Scripts
{
<script>const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))</script>
}