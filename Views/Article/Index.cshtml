@model MusicBlogs.ViewModels.ArticleViewModel

@{
    ViewData["Title"] = Model.title;
}


<!-- Статья -->
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <!-- Контейнер статьи -->
            <div class="border rounded-3 p-4 bg-white mb-4">
                <!-- Имя автора, дата публикации и рейтинг -->
                <div class="text-muted small">
                    <a style="text-decoration: none" asp-controller="User" asp-route-username="@Model.author">Автор: @Model.author</a> ·
                    <span class="fw-light">@Model.published_at.ToString("f")</span> ·
                    <span class="badge bg-success bg-opacity-10 text-success">Рейтинг: @Model.rating</span>
                </div>

                <!-- Заголовок статьи -->
                <h2 class="mb-3">@Model.title</h2>

                <!-- Содержание статьи -->
                <div class="lh-base">
                    <p>@Model.content</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Секция комментариев -->
<div class="border-top pt-4">
    <h5 class="mb-4 fw-normal">Комментарии</h5>

    @foreach (Comment comment in Model.comments)
    {
        <div class="d-flex mb-4">
            <div class="ms-3">
                <div class="d-flex align-items-center mb-1">
                    <span class="fw-semibold me-2">@comment.login_Users</span>
                    <span class="text-muted small">@comment.published_at.ToString("g")</span>
                </div>
                <p class="mb-2">@comment.content</p>
                <button class="btn btn-sm btn-outline-secondary py-0 px-2">Ответить</button>
            </div>
        </div>
    }

    <!-- Форма добавления комментария -->
    <form class="mt-5">
        <h6 class="mb-3 fw-normal">Добавить комментарий</h6>
        <div class="mb-3">
            <textarea class="form-control" rows="3" placeholder="Ваш комментарий..."></textarea>
        </div>
        <button type="submit" class="btn btn-primary btn-sm">Отправить</button>
    </form>
</div>